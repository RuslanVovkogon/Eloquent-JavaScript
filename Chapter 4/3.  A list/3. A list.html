<html>

<head>
    <script type="text/javascript">
        function arrayToList(arr) {

            var list = {
                value: arr[0],
                rest: null
            };
            var searchNullRest = list;
            for (var i = 1; i < arr.length; i++) {
                searchNullRest.rest = {
                    value: arr[i],
                    rest: null
                };
                searchNullRest = searchNullRest.rest;
            }
            return list;
        };

        function listToArray(list) {
            var unitFromList = list,
                arr = new Array();
            while (unitFromList != null) {
                arr.push(unitFromList.value);
                unitFromList = unitFromList.rest;
            }
            return arr;
        }

        function prepend(n, list) {

            var oldList = list;
            list = {
                value: n,
                rest: oldList
            };
            return list;
        }

        function nth(list, n) {
            var i = 0,
                unitFromList = list;
            while (unitFromList != null) {
                if (i == n) {
                    return unitFromList.value;
                }
                unitFromList = unitFromList.rest;
                i++;
            }
        }

        function nthRecursion(list, n) {
            if (n == 0)
                return list.value;
            else
                return nthRecursion(list.rest, n - 1);

        }
        
        console.log(arrayToList([10, 20, 30]));
        // → {value: 10, rest: {value: 20, rest: null}}
        console.log(listToArray(arrayToList([10, 20, 30, 40])));
        // → [10, 20, 30]
        console.log(prepend(10, prepend(20, null)));
        // → {value: 10, rest: {value: 20, rest: null}}
        console.log(nth(arrayToList([10, 20, 30]), 1));
        // → 20
        console.log(nthRecursion(arrayToList([10, 20, 30]), 1));
        // → 20
    </script>
</head>

<body>

</body>

</html>